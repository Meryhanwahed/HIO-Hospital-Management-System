<h2>๐ ูุงุฆูุฉ ุงููุฑุถู</h2>

<!-- ๐ ุฃุฏูุงุช ุงูููุชุฑุฉ ูุงููุฑุฒ -->
<div class="filters">
  <input 
    type="text" 
    placeholder="ุงุจุญุซ ุจุงููุณู ุงูุทุจู (ูุซุงู: ุนุธุงู)" 
    [(ngModel)]="filterDept"
  />
  
  <select [(ngModel)]="sortField" title="-- ุงุฎุชุฑ ุชุฑุชูุจ --">
    <option value="">-- ุงุฎุชุฑ ุชุฑุชูุจ --</option>
    <option value="entryDate">ุชุงุฑูุฎ ุงูุฏุฎูู</option>
    <option value="age">ุงูุนูุฑ</option>
  </select>

  <button (click)="applyFilters()">๐ ุจุญุซ</button>
  <button class="reset" (click)="resetFilters()">โฉ๏ธ ุงุณุชุฑุฌุงุน ุงููุฑุถู</button>
</div>

<div *ngIf="loading">โณ ุฌุงุฑู ุงูุชุญููู...</div>
<div *ngIf="error">{{ error }}</div>

<table *ngIf="!loading && patients.length > 0">
  <thead>
    <tr>
      <th>ุงูุงุณู</th>
      <th>ุงูุฑูู ุงููููู</th>
      <th>ุงูุนูุฑ</th>
      <th>ุงูููุน</th>
      <th>ุงููุงุชู</th>
      <th>ุงูุนููุงู</th>
      <th>ุงูุชุดุฎูุต</th>
      <th>ุงูุทุจูุจ</th>
      <th>ุชุฎุตุต ุงูุทุจูุจ</th>
      <th>ุงูุชุงุฑูุฎ</th>
      <th>ุงูุฅุฌุฑุงุกุงุช</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let patient of patients">
      <td>{{ patient.username }}</td>
      <td>{{ patient.nationalId }}</td>
      <td>{{ patient.age }}</td>
      <td>{{ patient.gender }}</td>
      <td>{{ patient.phone }}</td>
      <td>{{ patient.address }}</td>
      <td>{{ patient.diagnosis }}</td>
      <td>{{ patient.doctorName }}</td>
      <td>{{ patient.specialization }}</td>
      <td>{{ patient.date || '-' }}</td>
      <td>
        <button [routerLink]="['/patients', patient._id]">๐ ุนุฑุถ</button>
        <button (click)="deletePatient(patient._id)">๐ ุญุฐู</button>
        <button (click)="viewPdf(patient._id)">๐ ุนุฑุถ PDF</button>
        <button (click)="downloadPdf(patient._id)">โฌ๏ธ ุชุญููู PDF</button>
      </td>
    </tr>
  </tbody>
</table>

<div *ngIf="!loading && patients.length === 0">
  ๐ซ ูุง ููุฌุฏ ูุฑุถู ูุณุฌููู.
</div>
